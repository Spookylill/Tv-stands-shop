<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - TV Stands Shop</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<header>
    <h1>Admin Panel</h1>
</header>

<main>
    <form id="productForm">
        <label>Product Name:</label>
        <input type="text" id="name" required>

        <label>Price (KSh):</label>
        <input type="number" id="price" required>

        <label>Image URL (or relative path in images/ folder):</label>
        <input type="text" id="image" placeholder="images/chair1.jpg" required>

        <label>WhatsApp Link:</label>
        <input type="text" id="whatsapp" placeholder="https://wa.me/254700000000" required>

        <button type="submit">Add Product</button>
    </form>

    <h2>Existing Products</h2>
    <ul id="productList"></ul>
</main>

<footer>
    <p>&copy; 2026 TV Stands & Coffee Tables - Admin</p>
</footer>

<script>
// Get products from localStorage or create empty array
let products = JSON.parse(localStorage.getItem('products')) || [];

// Display existing products
function renderList() {
    const list = document.getElementById('productList');
    list.innerHTML = '';
    products.forEach((p, index) => {
        list.innerHTML += `<li>${p.name} - KSh ${p.price} <button onclick="deleteProduct(${index})">Delete</button></li>`;
    });
}
renderList();

// Add new product
document.getElementById('productForm').addEventListener('submit', function(e){
    e.preventDefault();
    const name = document.getElementById('name').value;
    const price = document.getElementById('price').value;
    const image = document.getElementById('image').value;
    const whatsapp = document.getElementById('whatsapp').value;

    products.push({name, price, image, whatsapp});
    localStorage.setItem('products', JSON.stringify(products));

    renderList();
    this.reset();
});

// Delete product
function deleteProduct(index) {
    products.splice(index, 1);
    localStorage.setItem('products', JSON.stringify(products));
    renderList();
}
</script>

</body>
</html>
